<!DOCTYPE html>
<html>
  <body>
    <a href="/">Home</a>
    <pre>
I'm playing with a project that involved 
setting up a screen recording and hit
on the fact that ffmpeg can do it. 

There's two steps. First, you get a list
of available vidoe and audio with this:

  ffmpeg -f avfoundation -list_devices true -i ""

The first time I ran that command on my mac
I got a securty dialog and had to go into
System Preference - Security and Privacy -
Screen Recording then unlock it and tic the
box next to my terminal app to let it run. 

After a bunch fo random stuff, you'll get
something like:

  [AVFoundation indev @ 0x121005470] AVFoundation video devices:
  [AVFoundation indev @ 0x121005470] [0] FaceTime HD Camera
  [AVFoundation indev @ 0x121005470] [1] Capture screen 0
  [AVFoundation indev @ 0x121005470] [2] Capture screen 1
  [AVFoundation indev @ 0x121005470] AVFoundation audio devices:
  [AVFoundation indev @ 0x121005470] [0] MacBook Pro Microphone

You use the number in the brackes for the 
`-i` values in this command with video going
first and audio going second. 

  ffmpeg -f avfoundation -i "1:0" -y screen.mp4

That will record `Capture screen 0` (which was is  
the main screen for me) and `[0] MacBook Pro Microphone`. 
(It throws up a bunch of stuff on the screen while
it's recording.)

Hit `CTRL c` to stop the recording. 
    </pre>
  </body>
</html>
